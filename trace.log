+ set -e
+ TARGET=
+ [[ -n '' ]]
+ GCS_BUCKET=https://storage.googleapis.com/claude-code-dist-86c565f3-f756-42ad-8dfa-d59b1c096819/claude-code-releases
+ DOWNLOAD_DIR=/home/aarij/.claude/downloads
+ DOWNLOADER=
+ command -v curl
+ DOWNLOADER=curl
+ HAS_JQ=false
+ command -v jq
+ HAS_JQ=true
+ case "$(uname -s)" in
++ uname -s
+ os=linux
+ case "$(uname -m)" in
++ uname -m
+ arch=x64
+ '[' linux = linux ']'
+ '[' -f /lib/libc.musl-x86_64.so.1 ']'
+ '[' -f /lib/libc.musl-aarch64.so.1 ']'
+ ldd /bin/ls
+ grep -q musl
+ platform=linux-x64
+ mkdir -p /home/aarij/.claude/downloads
++ download_file https://storage.googleapis.com/claude-code-dist-86c565f3-f756-42ad-8dfa-d59b1c096819/claude-code-releases/stable
++ local url=https://storage.googleapis.com/claude-code-dist-86c565f3-f756-42ad-8dfa-d59b1c096819/claude-code-releases/stable
++ local output=
++ '[' curl = curl ']'
++ '[' -n '' ']'
++ curl -fsSL https://storage.googleapis.com/claude-code-dist-86c565f3-f756-42ad-8dfa-d59b1c096819/claude-code-releases/stable
+ version=2.0.67
++ download_file https://storage.googleapis.com/claude-code-dist-86c565f3-f756-42ad-8dfa-d59b1c096819/claude-code-releases/2.0.67/manifest.json
++ local url=https://storage.googleapis.com/claude-code-dist-86c565f3-f756-42ad-8dfa-d59b1c096819/claude-code-releases/2.0.67/manifest.json
++ local output=
++ '[' curl = curl ']'
++ '[' -n '' ']'
++ curl -fsSL https://storage.googleapis.com/claude-code-dist-86c565f3-f756-42ad-8dfa-d59b1c096819/claude-code-releases/2.0.67/manifest.json
+ manifest_json='{
  "version": "2.0.67",
  "buildDate": "2025-12-11T23:58:21Z",
  "platforms": {
    "darwin-arm64": {
      "checksum": "4b5709f0b799650445da3df46025f600f6ddcc65f2c9857d2c83eb986c343ff0",
      "size": 165511888
    },
    "darwin-x64": {
      "checksum": "58b5110ebd0a4496f07350829c05b17c7bd0d99c54482db68e6c8ee5b79a840e",
      "size": 171656384
    },
    "linux-arm64": {
      "checksum": "7ae2baadcb6db64b26d4edb277aafb02a42be82f0da4a193289271852c9a96c8",
      "size": 199951338
    },
    "linux-x64": {
      "checksum": "b2a12279d5df3814f59000682a571edb771b73e89b4bd894101f01e3726726f3",
      "size": 207455556
    },
    "linux-arm64-musl": {
      "checksum": "958dfee12cadc2e7b48038fd9fe0ee0d90f4193ec17a0931c50a377f4477f1f5",
      "size": 195247970
    },
    "linux-x64-musl": {
      "checksum": "7e906982148c0ff18ebf3481d7d7fd73154c8080af0d6ac0a35d7fd45d02652e",
      "size": 200180948
    },
    "win32-x64": {
      "checksum": "706b46bc2e5c8c2f44214e3cdec732e41e57e8f3043703953a6b577a4bba4a81",
      "size": 217809056
    }
  }
}'
+ '[' true = true ']'
++ echo '{
  "version": "2.0.67",
  "buildDate": "2025-12-11T23:58:21Z",
  "platforms": {
    "darwin-arm64": {
      "checksum": "4b5709f0b799650445da3df46025f600f6ddcc65f2c9857d2c83eb986c343ff0",
      "size": 165511888
    },
    "darwin-x64": {
      "checksum": "58b5110ebd0a4496f07350829c05b17c7bd0d99c54482db68e6c8ee5b79a840e",
      "size": 171656384
    },
    "linux-arm64": {
      "checksum": "7ae2baadcb6db64b26d4edb277aafb02a42be82f0da4a193289271852c9a96c8",
      "size": 199951338
    },
    "linux-x64": {
      "checksum": "b2a12279d5df3814f59000682a571edb771b73e89b4bd894101f01e3726726f3",
      "size": 207455556
    },
    "linux-arm64-musl": {
      "checksum": "958dfee12cadc2e7b48038fd9fe0ee0d90f4193ec17a0931c50a377f4477f1f5",
      "size": 195247970
    },
    "linux-x64-musl": {
      "checksum": "7e906982148c0ff18ebf3481d7d7fd73154c8080af0d6ac0a35d7fd45d02652e",
      "size": 200180948
    },
    "win32-x64": {
      "checksum": "706b46bc2e5c8c2f44214e3cdec732e41e57e8f3043703953a6b577a4bba4a81",
      "size": 217809056
    }
  }
}'
++ jq -r '.platforms["linux-x64"].checksum // empty'
+ checksum=b2a12279d5df3814f59000682a571edb771b73e89b4bd894101f01e3726726f3
+ '[' -z b2a12279d5df3814f59000682a571edb771b73e89b4bd894101f01e3726726f3 ']'
+ [[ ! b2a12279d5df3814f59000682a571edb771b73e89b4bd894101f01e3726726f3 =~ ^[a-f0-9]{64}$ ]]
+ binary_path=/home/aarij/.claude/downloads/claude-2.0.67-linux-x64
+ download_file https://storage.googleapis.com/claude-code-dist-86c565f3-f756-42ad-8dfa-d59b1c096819/claude-code-releases/2.0.67/linux-x64/claude /home/aarij/.claude/downloads/claude-2.0.67-linux-x64
+ local url=https://storage.googleapis.com/claude-code-dist-86c565f3-f756-42ad-8dfa-d59b1c096819/claude-code-releases/2.0.67/linux-x64/claude
+ local output=/home/aarij/.claude/downloads/claude-2.0.67-linux-x64
+ '[' curl = curl ']'
+ '[' -n /home/aarij/.claude/downloads/claude-2.0.67-linux-x64 ']'
+ curl -fsSL -o /home/aarij/.claude/downloads/claude-2.0.67-linux-x64 https://storage.googleapis.com/claude-code-dist-86c565f3-f756-42ad-8dfa-d59b1c096819/claude-code-releases/2.0.67/linux-x64/claude
+ '[' linux = darwin ']'
++ sha256sum /home/aarij/.claude/downloads/claude-2.0.67-linux-x64
++ cut '-d ' -f1
+ actual=b2a12279d5df3814f59000682a571edb771b73e89b4bd894101f01e3726726f3
+ '[' b2a12279d5df3814f59000682a571edb771b73e89b4bd894101f01e3726726f3 '!=' b2a12279d5df3814f59000682a571edb771b73e89b4bd894101f01e3726726f3 ']'
+ chmod +x /home/aarij/.claude/downloads/claude-2.0.67-linux-x64
+ echo 'Setting up Claude Code...'
+ /home/aarij/.claude/downloads/claude-2.0.67-linux-x64 install
