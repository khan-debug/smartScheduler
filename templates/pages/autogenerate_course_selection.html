{% extends "layouts/base.html" %}

{% block title %}Select Courses - Floor {{ floor_number }}{% endblock %}

{% block content %}
<div style="padding: var(--space-8); max-width: 1000px; margin: 0 auto;">
    <!-- Page Header -->
    <div style="margin-bottom: var(--space-8);">
        <div style="display: flex; align-items: center; gap: var(--space-3); margin-bottom: var(--space-2);">
            <a href="/autogenerate_select_floor" style="color: var(--text-secondary); text-decoration: none; font-size: var(--text-lg);">
                <i class="fas fa-arrow-left"></i>
            </a>
            <h1 style="margin: 0;">Autogenerate Timetable - Floor {{ floor_number }}</h1>
        </div>
        <p class="text-secondary">Choose how to select courses for scheduling</p>
    </div>

    <!-- Floor Capacity Info -->
    <div class="card card-flat" style="margin-bottom: var(--space-8); background: linear-gradient(135deg, var(--primary-50) 0%, var(--primary-100) 100%);">
        <div class="card-body">
            <div style="display: flex; gap: var(--space-4); align-items: center;">
                <div style="flex-shrink: 0; color: var(--primary-600); font-size: var(--text-3xl);">
                    <i class="fas fa-info-circle"></i>
                </div>
                <div style="flex: 1;">
                    <h3 style="margin-bottom: var(--space-3); color: var(--text-primary);">Floor Capacity</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: var(--space-4);">
                        <div>
                            <div class="text-secondary" style="font-size: var(--text-sm);">Lecture Halls</div>
                            <div style="color: var(--primary-600); font-size: var(--text-xl); font-weight: var(--weight-bold);">
                                {{ capacity.lecture_halls }} rooms
                            </div>
                            <div class="text-secondary" style="font-size: var(--text-xs);">
                                {{ capacity.lecture_capacity }} classes/week
                            </div>
                        </div>
                        <div>
                            <div class="text-secondary" style="font-size: var(--text-sm);">Labs</div>
                            <div style="color: var(--success-600); font-size: var(--text-xl); font-weight: var(--weight-bold);">
                                {{ capacity.labs }} rooms
                            </div>
                            <div class="text-secondary" style="font-size: var(--text-xs);">
                                {{ capacity.lab_capacity }} classes/week
                            </div>
                        </div>
                        <div>
                            <div class="text-secondary" style="font-size: var(--text-sm);">Total Capacity</div>
                            <div style="color: var(--info-600); font-size: var(--text-xl); font-weight: var(--weight-bold);">
                                {{ capacity.total_capacity }} classes/week
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Course Selection Options -->
    <div style="display: grid; gap: var(--space-6);">
        <!-- Option 1: Autopick Courses -->
        <div class="card card-elevated option-card" onclick="window.location.href='/autogenerate_autopick?floor={{ floor_number }}'" style="cursor: pointer; transition: all var(--transition-normal);">
            <div class="card-body" style="padding: var(--space-8);">
                <div style="display: flex; gap: var(--space-6); align-items: start;">
                    <div style="flex-shrink: 0; width: 80px; height: 80px; background: linear-gradient(135deg, var(--success-500) 0%, var(--success-600) 100%); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; color: white; font-size: var(--text-4xl);">
                        <i class="fas fa-magic"></i>
                    </div>
                    <div style="flex: 1;">
                        <h2 style="font-size: var(--text-2xl); margin-bottom: var(--space-2); color: var(--text-primary);">
                            Autopick Courses
                            <span style="display: inline-flex; align-items: center; gap: var(--space-1); padding: var(--space-1) var(--space-3); background: var(--success-100); color: var(--success-700); border-radius: var(--radius-full); font-size: var(--text-xs); font-weight: var(--weight-semibold); margin-left: var(--space-2);">
                                <i class="fas fa-star"></i> Recommended
                            </span>
                        </h2>
                        <p class="text-secondary" style="margin-bottom: var(--space-4); line-height: 1.6;">
                            Automatically select unscheduled courses based on floor capacity. The system will intelligently match lab courses to lab rooms and lecture courses to lecture halls.
                        </p>
                        <div style="display: flex; gap: var(--space-4); flex-wrap: wrap;">
                            <div style="display: flex; align-items: center; gap: var(--space-2); color: var(--success-600);">
                                <i class="fas fa-check-circle"></i>
                                <span style="font-size: var(--text-sm);">Fast & Efficient</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: var(--space-2); color: var(--success-600);">
                                <i class="fas fa-check-circle"></i>
                                <span style="font-size: var(--text-sm);">Smart Matching</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: var(--space-2); color: var(--success-600);">
                                <i class="fas fa-check-circle"></i>
                                <span style="font-size: var(--text-sm);">Capacity Aware</span>
                            </div>
                        </div>
                    </div>
                    <div style="flex-shrink: 0; color: var(--primary-500); font-size: var(--text-2xl);">
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- Option 2: Pick Courses Manually -->
        <div class="card card-elevated option-card" onclick="window.location.href='/autogenerate_pick_courses?floor={{ floor_number }}'" style="cursor: pointer; transition: all var(--transition-normal);">
            <div class="card-body" style="padding: var(--space-8);">
                <div style="display: flex; gap: var(--space-6); align-items: start;">
                    <div style="flex-shrink: 0; width: 80px; height: 80px; background: linear-gradient(135deg, var(--primary-500) 0%, var(--primary-600) 100%); border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center; color: white; font-size: var(--text-4xl);">
                        <i class="fas fa-hand-pointer"></i>
                    </div>
                    <div style="flex: 1;">
                        <h2 style="font-size: var(--text-2xl); margin-bottom: var(--space-2); color: var(--text-primary);">
                            Pick Courses Manually
                        </h2>
                        <p class="text-secondary" style="margin-bottom: var(--space-4); line-height: 1.6;">
                            Manually select which courses you want to schedule on this floor. You'll have full control over which courses are included in the autogeneration.
                        </p>
                        <div style="display: flex; gap: var(--space-4); flex-wrap: wrap;">
                            <div style="display: flex; align-items: center; gap: var(--space-2); color: var(--primary-600);">
                                <i class="fas fa-check-circle"></i>
                                <span style="font-size: var(--text-sm);">Full Control</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: var(--space-2); color: var(--primary-600);">
                                <i class="fas fa-check-circle"></i>
                                <span style="font-size: var(--text-sm);">Custom Selection</span>
                            </div>
                            <div style="display: flex; align-items: center; gap: var(--space-2); color: var(--primary-600);">
                                <i class="fas fa-check-circle"></i>
                                <span style="font-size: var(--text-sm);">Flexible</span>
                            </div>
                        </div>
                    </div>
                    <div style="flex-shrink: 0; color: var(--primary-500); font-size: var(--text-2xl);">
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .option-card {
        position: relative;
        overflow: hidden;
    }

    .option-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
        transition: left 0.5s;
    }

    .option-card:hover::before {
        left: 100%;
    }

    .option-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--shadow-2xl);
    }
</style>
{% endblock %}
