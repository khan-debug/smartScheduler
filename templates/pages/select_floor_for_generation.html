{% extends "layouts/base.html" %}

{% block title %}Select Floor for Generation{% endblock %}

{% block content %}
<div style="padding: var(--space-8); max-width: 800px; margin: 0 auto;">
    <div style="margin-bottom: var(--space-8);">
        <h1 style="margin-bottom: var(--space-2);">Select a Floor</h1>
        <p class="text-secondary">Choose a floor to generate a timetable for.</p>
    </div>

    {% if floors %}
    <ul style="list-style: none; padding: 0;">
        {% for floor in floors %}
        <li style="margin-bottom: var(--space-4);">
            <a href="/autogenerate_configure?floor={{ floor.floor }}" style="display: block; padding: var(--space-6); border: 1px solid var(--border-primary); border-radius: var(--radius-md); text-decoration: none; color: var(--text-primary); transition: all var(--transition-normal);" onmouseover="this.style.borderColor='var(--primary-500)'; this.style.boxShadow='var(--shadow-lg)';" onmouseout="this.style.borderColor='var(--border-primary)'; this.style.boxShadow='none';">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <span style="font-size: var(--text-xl); font-weight: var(--weight-semibold);">Floor {{ floor.floor }}</span>
                        <div style="font-size: var(--text-sm); color: var(--text-secondary);">{{ floor.total_rooms }} rooms</div>
                    </div>
                    <div style="text-align: right;">
                        <span style="font-size: var(--text-lg); font-weight: var(--weight-semibold); color: var(--primary-600);">{{ floor.schedulable_classes }}</span>
                        <div style="font-size: var(--text-sm); color: var(--text-secondary);">schedulable classes</div>
                    </div>
                </div>
            </a>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <div class="card card-flat">
        <div class="card-body" style="text-align: center; padding: var(--space-12);">
            <i class="fas fa-building" style="font-size: var(--text-6xl); color: var(--text-tertiary); margin-bottom: var(--space-4);"></i>
            <h3 style="color: var(--text-primary); margin-bottom: var(--space-2);">No Floors Found</h3>
            <p class="text-secondary" style="margin-bottom: var(--space-6);">To generate a timetable, you first need to create floors and add rooms.</p>
            <a href="/manage_rooms" class="btn btn-primary">
                <i class="fas fa-plus"></i> &nbsp; Add Floors & Rooms
            </a>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
